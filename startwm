#Fichier de log
LOG="$HOME/.local/share/xorg/session.log"

#Window Manager a lancer
WINDOWMANAGER="`cat $HOME/.config/xorg/session.wm`"

#Lancer le WM en arriere plan et sauvegarder son PID
#Redirection des erreurs et de la sortie standard vers le log
$WINDOWMANAGER > $LOG 2>&1 &
wmpid=$!

#Lancer les autres commandes Ã  lancer en arriere plan
cat $HOME/.config/xorg/session.env | while read cmd
do
	$cmd >> $LOG 2>&1 &
done

#Attend la fin du WM
wait $wmpid
